version: '3.8'
services:
postgres:
image: postgres:15
container_name: pg
environment:
POSTGRES_DB: employee_db
POSTGRES_USER: admin
POSTGRES_PASSWORD: admin
ports:
- "5432:5432"
volumes:
- pgdata:/var/lib/postgresql/data


spark:
image: bitnami/spark:3.5
container_name: spark
environment:
- SPARK_MODE=master
volumes:
- ./data:/opt/data
- ./spark:/opt/spark-apps
- ./drivers:/opt/jdbc
depends_on:
- postgres


volumes:
pgdata: